<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ë—Ä–∏—Ñ</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:sans-serif}
body{background:var(--tg-theme-bg-color,#fff);padding:16px;padding-bottom:80px}
.container{max-width:500px;margin:0 auto}
h1{font-size:24px;margin-bottom:8px;text-align:center;color:var(--tg-theme-text-color,#000)}
.subtitle{text-align:center;color:var(--tg-theme-hint-color,#999);margin-bottom:20px;font-size:14px}
.form-group{margin-bottom:16px}
label{display:block;margin-bottom:6px;font-weight:500;font-size:14px;color:var(--tg-theme-text-color,#000)}
input,select,textarea{width:100%;padding:12px;border:1px solid #ddd;border-radius:10px;font-size:16px;background:var(--tg-theme-bg-color,#fff);color:var(--tg-theme-text-color,#000)}
input:focus,select:focus,textarea:focus{outline:none;border-color:var(--tg-theme-button-color,#2AABEE)}
textarea{min-height:80px;resize:vertical}
.required{color:#ff4444}
</style>
</head>
<body>
<div class="container">
<h1>üìã –ë—Ä–∏—Ñ –Ω–∞ –ø—Ä–æ–µ–∫—Ç</h1>
<div class="subtitle">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é</div>

<form id="briefForm">
<div class="form-group">
<label>–°—Ñ–µ—Ä–∞ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ <span class="required">*</span></label>
<select id="sphere" required>
<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç</option>
<option value="–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥">–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥</option>
<option value="IT / –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞">IT / –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞</option>
<option value="–î–∏–∑–∞–π–Ω / –ö—Ä–µ–∞—Ç–∏–≤">–î–∏–∑–∞–π–Ω / –ö—Ä–µ–∞—Ç–∏–≤</option>
<option value="–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</option>
<option value="–î—Ä—É–≥–æ–µ">–î—Ä—É–≥–æ–µ</option>
</select>
</div>

<div class="form-group">
<label>–ë—é–¥–∂–µ—Ç –ø—Ä–æ–µ–∫—Ç–∞ <span class="required">*</span></label>
<select id="budget" required>
<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç</option>
<option value="–î–æ 50 000 ‚ÇΩ">–î–æ 50 000 ‚ÇΩ</option>
<option value="50 000 - 150 000 ‚ÇΩ">50 000 - 150 000 ‚ÇΩ</option>
<option value="150 000 - 500 000 ‚ÇΩ">150 000 - 500 000 ‚ÇΩ</option>
<option value="–ë–æ–ª–µ–µ 500 000 ‚ÇΩ">–ë–æ–ª–µ–µ 500 000 ‚ÇΩ</option>
<option value="–ù–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏—Å—å">–ù–µ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏—Å—å</option>
</select>
</div>

<div class="form-group">
<label>–°—Ä–æ–∫–∏ <span class="required">*</span></label>
<select id="timeline" required>
<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç</option>
<option value="1-2 –Ω–µ–¥–µ–ª–∏">1-2 –Ω–µ–¥–µ–ª–∏</option>
<option value="1 –º–µ—Å—è—Ü">1 –º–µ—Å—è—Ü</option>
<option value="2-3 –º–µ—Å—è—Ü–∞">2-3 –º–µ—Å—è—Ü–∞</option>
<option value="–ë–æ–ª–µ–µ 3 –º–µ—Å—è—Ü–µ–≤">–ë–æ–ª–µ–µ 3 –º–µ—Å—è—Ü–µ–≤</option>
<option value="–ì–∏–±–∫–∏–µ —Å—Ä–æ–∫–∏">–ì–∏–±–∫–∏–µ —Å—Ä–æ–∫–∏</option>
</select>
</div>

<div class="form-group">
<label>–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ <span class="required">*</span></label>
<textarea id="details" required placeholder="–û–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞—á—É, —Ü–µ–ª–∏, –ø–æ–∂–µ–ª–∞–Ω–∏—è..."></textarea>
</div>

<div class="form-group">
<label>–í–∞—à–µ –∏–º—è <span class="required">*</span></label>
<input type="text" id="name" required placeholder="–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è?">
</div>

<div class="form-group">
<label>–ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è —Å–≤—è–∑–∏ <span class="required">*</span></label>
<input type="text" id="contact" required placeholder="@username –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω">
</div>
</form>
</div>

<script>
let tg = window.Telegram.WebApp;

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
tg.ready();
tg.expand();

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–ª–∞–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
tg.MainButton.text = "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –±—Ä–∏—Ñ";
tg.MainButton.color = "#2AABEE";
tg.MainButton.show();

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ —Ñ–æ—Ä–º—ã
function checkForm() {
  const sphere = document.getElementById('sphere').value;
  const budget = document.getElementById('budget').value;
  const timeline = document.getElementById('timeline').value;
  const details = document.getElementById('details').value.trim();
  const name = document.getElementById('name').value.trim();
  const contact = document.getElementById('contact').value.trim();
  
  const filled = sphere && budget && timeline && details && name && contact;
  
  if (filled) {
    tg.MainButton.enable();
  } else {
    tg.MainButton.disable();
  }
}

// –°–ª—É—à–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–µ
document.querySelectorAll('input, select, textarea').forEach(el => {
  el.addEventListener('input', checkForm);
  el.addEventListener('change', checkForm);
});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –≥–ª–∞–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
tg.MainButton.onClick(function() {
  const data = {
    sphere: document.getElementById('sphere').value,
    budget: document.getElementById('budget').value,
    timeline: document.getElementById('timeline').value,
    details: document.getElementById('details').value.trim(),
    name: document.getElementById('name').value.trim(),
    contact: document.getElementById('contact').value.trim()
  };
  
  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
  tg.sendData(JSON.stringify(data));
});

// –ù–∞—á–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
checkForm();
</script>
</body>
</html>
